{"version":3,"file":"js/470.cbb76420.js","mappings":"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","sources":["webpack://gaku-navi2/./src/views/LectureView.vue","webpack://gaku-navi2/./src/views/LectureView.vue?7f44"],"sourcesContent":["<template>\n  <section class=\"wapper\">\n    <!-- 左メニュー -->\n    <nav class=\"leftMenu\">\n      <router-link\n        :to=\"{\n          name: 'IndexList',\n          params: { course: course },\n        }\"\n      >\n        <button @click=\"reset\">\n          <span class=\"material-icons md-18\">skip_previous</span>\n        </button>\n      </router-link>\n    </nav>\n\n    <!-- メイン -->\n    <main>\n      <!-- スライドエリア -->\n      <section class=\"slideArea\">\n        <img :src=\"slideImage\" class=\"slideImg\" alt=\"slide\" />\n      </section>\n\n      <!-- メッセージエリア -->\n      <section class=\"messageArea\">\n        <!-- アクター名＆操作ボタン -->\n        <section class=\"messageMenu\">\n          <!-- アクター名 -->\n          <section style=\"display: flex\">\n            <button\n              :class=\"isActor ? 'isTrue' : 'isFalse'\"\n              @click=\"switchActor\"\n            >\n              <!-- &gt;&#969;&lt; -->\n              <span class=\"material-icons md-18\">face</span>\n            </button>\n            <div class=\"actorName\" :class=\"{ none: !isActor }\">\n              {{ actorName }}\n            </div>\n          </section>\n\n          <!-- 操作ボタン -->\n          <section>\n            <button\n              :class=\"isVoice ? 'isTrue' : 'isFalse'\"\n              @click=\"switchVoice\"\n            >\n              音声<span class=\"material-icons md-18\">music_note</span>\n              <!-- &sung; -->\n            </button>\n            <button :class=\"isSkip ? 'isTrue' : 'isFalse'\" @click=\"switchSkip\">\n              自動<span class=\"material-icons md-18\">loop</span>\n              <!-- &#9654; -->\n            </button>\n            <button @click=\"voiceStop\">\n              停止<span class=\"material-icons md-18\">stop</span>\n              <!-- &#9632; -->\n            </button>\n            <button @click=\"voicePlay\">\n              再生<span class=\"material-icons md-18\">play_arrow</span>\n              <!-- &orarr; -->\n            </button>\n          </section>\n        </section>\n\n        <!-- メッセージウィンドウ -->\n        <section class=\"messagewindow\" @click=\"next\">\n          <!-- アクター -->\n          <section v-show=\"isActor\">\n            <img :src=\"actorImage\" class=\"actor\" alt=\"actor\" />\n          </section>\n\n          <!-- メッセージ -->\n          <section class=\"message\">\n            {{ messageText }}\n          </section>\n        </section>\n      </section>\n    </main>\n\n    <!-- 右メニュー -->\n    <nav class=\"rightMenu\">\n      <button @click=\"switchMenu\">\n        <span class=\"material-icons md-18\">menu</span>\n      </button>\n      <ul v-show=\"isMenu\">\n        <li\n          v-for=\"(slide, index) in scenario\"\n          :key=\"index\"\n          :class=\"{ isTrue: index == pageIndex }\"\n          @click=\"pageJump(index)\"\n        >\n          {{ (\"00\" + (index + 1)).slice(-2) }}：{{ slide.title }}\n        </li>\n      </ul>\n    </nav>\n  </section>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"LectureView\",\n  data() {\n    return {\n      // シナリオデータ\n      course: this.$route.params.course, // パスパラメータ: コース\n      id: this.$route.params.id, // パスパラメータ：ID\n      scenario: [], // シナリオ\n      // 表示制御\n      isActor: true, // キャラ表示\n      isMenu: true, // もくじ表示\n      isVoice: true, // 音声再生\n      isSkip: true, // オートスキップ\n      // 再生コントロール\n      pageIndex: 0, // スライドの現在地\n      messageIndex: 0, // メッセージの現在地\n      messageVoice: new Audio(\"\"), //表示メッセージ音声\n    };\n  },\n  mounted() {\n    // jsonからコースを取得\n    const url = `./${this.course}/${this.id}/scenario.json`;\n    axios\n      .get(url)\n      .then((response) => (this.scenario = response.data))\n      .catch((error) => {\n        console.log(error);\n        this.scenario = [{ part: \"制作中\" }];\n      });\n  },\n  methods: {\n    // 操作切り替え\n    // キャラ表示\n    switchActor() {\n      this.isActor = !this.isActor;\n    },\n    // 切替：音声\n    switchVoice() {\n      this.isVoice = !this.isVoice;\n      if (!this.isVoice) {\n        this.isSkip = false;\n      }\n    },\n    // 切替：オートスキップ\n    switchSkip() {\n      this.isSkip = !this.isSkip;\n      if (this.isSkip) {\n        this.isVoice = true;\n      }\n    },\n    // 切替：目次表示\n    switchMenu() {\n      this.isMenu = !this.isMenu;\n    },\n    // 移動：もくじジャンプ\n    pageJump(index) {\n      this.pageIndex = index;\n      this.messageIndex = 0;\n      this.messageVoice.pause();\n      if (this.isVoice) {\n        this.voicePlay();\n      }\n    },\n\n    // 再生コントロール\n    // 進む\n    next() {\n      this.messageVoice.pause();\n      this.messageIndex++;\n      // 各スライドの最終メッセージ⇒次のスライド\n      if (this.messageText == \"LAST\") {\n        if (this.scenario.length == this.pageIndex + 1) {\n          this.messageIndex--;\n          return;\n        } else {\n          this.pageIndex++;\n          this.messageIndex = 0;\n        }\n      }\n\n      // 音声ありの時のみ再生\n      if (this.isVoice) {\n        this.voicePlay();\n      }\n    },\n\n    // ボイスセット⇒再生\n    voicePlay() {\n      // 再生中なら一旦停止\n      this.messageVoice.pause();\n      // ボイスの有無を判断してセット\n      let voice =\n        this.scenario[this.pageIndex].message[this.messageIndex].voice;\n      if (voice) {\n        this.messageVoice = new Audio(\n          \"./\" + this.course + \"/\" + this.id + \"/voice/\" + voice\n        );\n        this.messageVoice.play();\n        // ボイス終了⇒オートスキップ\n        this.messageVoice.addEventListener(\"ended\", () => {\n          if (this.isSkip) {\n            this.next();\n          }\n        });\n      }\n    },\n\n    // ボイス中断\n    voiceStop() {\n      this.messageVoice.pause();\n    },\n\n    // 前のページに戻る際にリセット\n    reset() {\n      this.messageVoice.pause();\n      this.pageIndex = 0;\n      this.messageIndex = 0;\n    },\n  },\n  computed: {\n    // スライドイメージ\n    slideImage() {\n      try {\n        if (!this.scenario[this.pageIndex].message[this.messageIndex].slide) {\n          return \"./common/background/cloud2.png\";\n        } else {\n          return `./${this.course}/${this.id}/img/${\n            this.scenario[this.pageIndex].message[this.messageIndex].slide\n          }`;\n        }\n      } catch {\n        return { mes: \"制作中です\" };\n      }\n    },\n\n    // アクター\n    actorName() {\n      try {\n        if (!this.scenario[this.pageIndex].message[this.messageIndex].actor) {\n          return \"No Name\";\n        } else {\n          return this.scenario[this.pageIndex].message[this.messageIndex].actor;\n        }\n      } catch {\n        return \"No Name\";\n      }\n    },\n    actorImage() {\n      try {\n        if (\n          !this.scenario[this.pageIndex].message[this.messageIndex].actorImg\n        ) {\n          return \"./common/actor/Tsumugi-01.png\";\n        } else {\n          return `./common/actor/${\n            this.scenario[this.pageIndex].message[this.messageIndex].actorImg\n          }`;\n        }\n      } catch {\n        return \"./common/actor/Tsumugi-01.png\";\n      }\n    },\n\n    // メッセージテキスト\n    messageText() {\n      try {\n        return this.scenario[this.pageIndex].message[this.messageIndex].text;\n      } catch {\n        return \"LAST\";\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* 背景 */\n.wapper {\n  width: 100%;\n  height: 100vh;\n  overflow: hidden;\n  background-image: url(\"@/assets/common/background/cloud2.png\");\n  background-size: cover;\n  background-position: center;\n  position: relative;\n  display: grid;\n  grid-template-columns: auto 1fr auto;\n}\n\n/* メイン */\nmain {\n  width: 100%;\n  max-width: 1200px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n}\n\n/* スライドエリア */\n.slideArea {\n  margin: auto;\n}\n\n/* スライド */\n.slideArea .slideImg {\n  max-width: 100%;\n  max-height: calc(100vh - 225px);\n  display: block;\n  margin: auto;\n}\n\n/* メッセージエリア */\n.messageArea {\n  margin: auto 0 1rem;\n  white-space: pre-line;\n}\n\n/* メッセージメニュー */\n.messageMenu {\n  display: flex;\n  justify-content: space-between;\n}\n.messageMenu button {\n  padding: 0.5rem;\n  border: solid darkcyan;\n  border-radius: 10px;\n  font-weight: bold;\n  cursor: pointer;\n}\n\n/* アクター */\n.actorName {\n  padding: 0.4rem;\n  font-size: x-large;\n  color: white;\n  background-color: rgb(0, 0, 0, 0.8);\n  border: solid 1px;\n  border-radius: 10px;\n}\n.actor {\n  max-height: 100%;\n  margin: auto;\n  border-radius: 10px;\n}\n\n/* メッセージウィンドウ */\n.messageArea .messagewindow {\n  box-sizing: border-box;\n  height: 176px;\n  background-color: rgb(0, 0, 0, 0.8);\n  border-radius: 10px;\n  display: flex;\n  color: white;\n  font-size: x-large;\n  cursor: pointer;\n}\n\n.messageArea .messagewindow .message {\n  padding: 1rem;\n  width: 100%;\n  overflow-y: auto;\n}\n\n.messageArea .messagewindow .message::after {\n  content: \"▼\";\n  animation: blink 1s ease-in-out infinite alternate;\n}\n\n@keyframes blink {\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 1;\n  }\n}\n\n/* サイドメニュー */\n.leftMenu,\n.rightMenu {\n  padding: 1rem;\n}\n\n.xlarge {\n  font-size: x-large;\n}\n\n/* 左右メニュー */\nnav ul {\n  margin-top: 0;\n  width: max-content;\n  max-height: 90vh;\n  overflow: auto;\n  background: whitesmoke;\n  padding: 0.5rem;\n  border-radius: 0 0 10px 10px;\n  box-shadow: 2px 2px 4px;\n  list-style: none;\n  font-size: larger;\n}\n\n.rightMenu button {\n  display: block;\n  margin-left: auto;\n}\n\nnav ul li {\n  border-radius: 5px;\n  padding: 0 0.2rem;\n  cursor: pointer;\n  border-bottom: solid gainsboro;\n}\n\n/* アクティブ背景 */\n.isTrue {\n  background: aquamarine;\n}\n\n.isFalse {\n  background-color: gray;\n  opacity: 0.8;\n}\n\n/* レスポンシブ */\n@media (max-width: 1025px) {\n  .leftMenu,\n  .rightMenu {\n    padding: 0rem;\n  }\n  .messageArea .messagewindow .message {\n    font-size: unset;\n  }\n\n  nav ul {\n    font-size: medium;\n  }\n}\n@media (max-width: 800px) {\n  .actor {\n    display: none;\n  }\n}\n\n@media (max-height: 500px) {\n  .slideArea .slideImg {\n    max-height: calc(100vh - 135px);\n  }\n  .messageArea .messagewindow {\n    height: 90px;\n    font-size: unset;\n  }\n  .messageMenu button {\n    padding: 0 0.5rem;\n    font-weight: normal;\n  }\n  .actorName {\n    padding: 0 0.5rem;\n  }\n}\n</style>\n","import { render } from \"./LectureView.vue?vue&type=template&id=2ab6e404&scoped=true\"\nimport script from \"./LectureView.vue?vue&type=script&lang=js\"\nexport * from \"./LectureView.vue?vue&type=script&lang=js\"\n\nimport \"./LectureView.vue?vue&type=style&index=0&id=2ab6e404&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\wicked\\\\project\\\\gaku-navi2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2ab6e404\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_3","style","_hoisted_10","_hoisted_19","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","$data","onClick","$options","_hoisted_5","src","alt","_hoisted_7","_hoisted_8","_hoisted_9","none","_hoisted_17","_hoisted_18","_Fragment","slide","index","key","isTrue","slice","title","name","data","course","this","$route","params","id","scenario","isActor","isMenu","isVoice","isSkip","pageIndex","messageIndex","messageVoice","Audio","mounted","url","axios","then","response","catch","error","console","log","part","methods","switchActor","switchVoice","switchSkip","switchMenu","pageJump","pause","voicePlay","next","messageText","length","voice","message","play","addEventListener","voiceStop","reset","computed","slideImage","mes","actorName","actor","actorImage","actorImg","text","__exports__","render"],"sourceRoot":""}