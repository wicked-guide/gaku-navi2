"use strict";(self["webpackChunkgaku_navi2"]=self["webpackChunkgaku_navi2"]||[]).push([[740],{4289:function(s,e,i){i.r(e),i.d(e,{default:function(){return B}});var t=i(3396),a=i(9242),c=i(7139),n=i.p+"img/left.e0515ef0.svg",o=i.p+"img/menu.b72fea75.svg",r=i.p+"img/voice.ec48c6ab.svg",l=i.p+"img/repeat.0dbb7bf4.svg",g=i.p+"img/stop.2aef6006.svg",u=i.p+"img/play.3e8fed54.svg",h=i.p+"img/meter.eea07c43.svg";const d=s=>((0,t.dD)("data-v-4255780c"),s=s(),(0,t.Cn)(),s),m={class:"gridlayout"},p={class:"coursearea"},x=d((()=>(0,t._)("img",{src:n,alt:"戻る",class:"icon"},null,-1))),I=[x],_=d((()=>(0,t._)("img",{src:o,alt:"メニュー",class:"icon"},null,-1))),v=[_],k={class:"courseIndex"},w={class:"part"},C={class:"slide"},f=["src"],b={class:"message flex"},S=["src"],y={class:"flex-col w100"},V={class:"flex nowrap"},A={class:"actorname"},T=d((()=>(0,t._)("img",{src:r,alt:"メーター",class:"icon"},null,-1))),P=[T],D=d((()=>(0,t._)("img",{src:l,alt:"メーター",class:"icon"},null,-1))),z=[D],F=d((()=>(0,t._)("img",{src:g,alt:"メーター",class:"icon"},null,-1))),N=[F],$=d((()=>(0,t._)("img",{src:u,alt:"メーター",class:"icon"},null,-1))),L=[$],H={class:"voiceSpeed"},J=d((()=>(0,t._)("img",{src:h,alt:"メーター",class:"icon"},null,-1))),Y={class:"pagearea"},K=d((()=>(0,t._)("img",{src:o,alt:"メニュー",class:"icon"},null,-1))),M=[K],W={class:"pageIndex"},Z=["onClick"];function j(s,e,i,n,o,r){const l=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("section",m,[(0,t._)("section",p,[(0,t.Wm)(l,{to:{name:"IndexList",params:{course:o.course}}},{default:(0,t.w5)((()=>[(0,t._)("button",{class:"btn",onClick:e[0]||(e[0]=(...s)=>r.reset&&r.reset(...s))},I)])),_:1},8,["to"]),(0,t.wy)((0,t._)("br",null,null,512),[[a.F8,!o.isCourseIndex]]),(0,t._)("button",{class:"btn",onClick:e[1]||(e[1]=s=>o.isCourseIndex=!o.isCourseIndex)},v),(0,t.wy)((0,t._)("div",k,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.courseIndex,(s=>((0,t.wg)(),(0,t.iD)(t.HY,{key:s},[(0,t._)("div",w,(0,c.zw)(s.part),1),(0,t._)("ul",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.chapter,(s=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("li",{key:s,class:(0,c.C_)([{istrue:s.href==o.id}])},[(0,t.Wm)(l,{to:{name:"lecture",params:{course:o.course,id:s.href}},class:(0,c.C_)([{istrue:s.href==o.id}]),onClick:e=>r.courseJump(s.href)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(s.title),1)])),_:2},1032,["to","class","onClick"])],2)),[[a.F8,"#"!=s.href]]))),128))])],64)))),128))],512),[[a.F8,o.isCourseIndex]])]),(0,t._)("section",C,[(0,t._)("img",{src:r.slideImage,alt:"slide"},null,8,f)]),(0,t._)("section",b,[(0,t.wy)((0,t._)("img",{src:r.actorImage,alt:"アクター",class:"actorimg"},null,8,S),[[a.F8,o.isActor&&o.isText]]),(0,t._)("section",y,[(0,t._)("section",V,[(0,t._)("button",{class:(0,c.C_)(["btn","nowrap",o.isActor?"istrue":"isfalse"]),onClick:e[2]||(e[2]=s=>o.isActor=!o.isActor)}," ・ω・ ",2),(0,t._)("span",A,(0,c.zw)(r.actorName),1),(0,t._)("button",{class:(0,c.C_)(["btn","mlauto",o.isVoice?"istrue":"isfalse"]),onClick:e[3]||(e[3]=s=>{o.isVoice=!o.isVoice,r.voiceStop()})},P,2),(0,t._)("button",{class:(0,c.C_)(["btn",o.isSkip?"istrue":"isfalse"]),onClick:e[4]||(e[4]=s=>o.isSkip=!o.isSkip)},z,2),(0,t._)("button",{class:(0,c.C_)(["btn"]),onClick:e[5]||(e[5]=(...s)=>r.voiceStop&&r.voiceStop(...s))},N),(0,t._)("button",{class:(0,c.C_)(["btn"]),onClick:e[6]||(e[6]=(...s)=>r.voicePlay&&r.voicePlay(...s))},L),(0,t._)("div",H,[J,(0,t.wy)((0,t._)("input",{type:"range",min:"0.5",max:"2",step:"0.1","onUpdate:modelValue":e[7]||(e[7]=s=>o.voiceSpeed=s)},null,512),[[a.nr,o.voiceSpeed]]),(0,t._)("div",null,(0,c.zw)(o.voiceSpeed),1)])]),(0,t.wy)((0,t._)("div",{class:"messageWindow",onClick:e[8]||(e[8]=(...s)=>r.next&&r.next(...s))},(0,c.zw)(r.messageText),513),[[a.F8,o.isText]])])]),(0,t._)("section",Y,[(0,t._)("button",{class:"btn",onClick:e[9]||(e[9]=s=>o.isPageIndex=!o.isPageIndex)},M),(0,t.wy)((0,t._)("ul",W,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.scenario,((s,e)=>((0,t.wg)(),(0,t.iD)("li",{key:e,class:(0,c.C_)({istrue:e==o.pageIndex}),onClick:s=>r.pageJump(e)},(0,c.zw)(("00"+(e+1)).slice(-2))+"："+(0,c.zw)(s.title),11,Z)))),128))],512),[[a.F8,o.isPageIndex]])])])}var U=i(4161),E={name:"LectureView",data(){return{course:"01",id:"01",scenario:[],isCourseIndex:!1,isPageIndex:!0,isText:!0,isActor:!0,isVoice:!0,isSkip:!0,pageIndex:0,messageIndex:0,messageVoice:new Audio(""),voiceSpeed:1}},mounted(){this.course=this.$route.params.course,this.id=this.$route.params.id,this.getCourse(),this.getScenario()},methods:{getCourse(){const s="./"+this.course+"/index.json";U.Z.get(s).then((s=>this.courseIndex=s.data)).catch((s=>{console.log("course制作中です",s),this.courseIndex=[{part:"制作中"}]}))},getScenario(){const s="./"+this.course+"/"+this.id+"/scenario.json";U.Z.get(s).then((s=>this.scenario=s.data)).catch((s=>{console.log("scenario制作中です",s),this.scenario=[{part:"制作中"}]}))},reset(){this.messageVoice.pause(),this.pageIndex=0,this.messageIndex=0},switchActor(){this.isActor=!this.isActor},switchVoice(){this.isVoice=!this.isVoice,this.isVoice||(this.isSkip=!1)},switchSkip(){this.isSkip=!this.isSkip,this.isSkip&&(this.isVoice=!0)},switchMenu(){this.isMenu=!this.isMenu},pageJump(s){this.pageIndex=s,this.messageIndex=0,this.messageVoice.pause(),this.isVoice&&this.voicePlay()},courseJump(s){this.messageVoice.pause(),this.id=s,this.getScenario(),this.pageIndex=0,this.messageIndex=0},next(){if(this.messageIndex++,"LAST"==this.messageText){if(this.scenario.length==this.pageIndex+1)return void this.messageIndex--;this.pageIndex++,this.messageIndex=0}this.isVoice&&this.voicePlay()},voiceStop(){this.messageVoice.pause()},voicePlay(){this.messageVoice.pause();let s=this.scenario[this.pageIndex].message[this.messageIndex].voice;s&&(this.messageVoice=new Audio("./"+this.course+"/"+this.id+"/voice/"+s),this.messageVoice.playbackRate=this.voiceSpeed,this.messageVoice.play(),this.messageVoice.addEventListener("ended",(()=>{this.isSkip&&this.next()})))}},computed:{slideImage(){try{return this.scenario[this.pageIndex].message[this.messageIndex].slide?`./${this.course}/${this.id}/img/${this.scenario[this.pageIndex].message[this.messageIndex].slide}`:"./common/background/cloud2.png"}catch{return{mes:"制作中です"}}},actorName(){try{return this.scenario[this.pageIndex].message[this.messageIndex].actor?this.scenario[this.pageIndex].message[this.messageIndex].actor:"No Name"}catch{return"No Name"}},actorImage(){try{return this.scenario[this.pageIndex].message[this.messageIndex].actorImg?`./common/actor/${this.scenario[this.pageIndex].message[this.messageIndex].actorImg}`:"./common/actor/Tsumugi-01.png"}catch{return"./common/actor/Tsumugi-01.png"}},messageText(){try{return this.scenario[this.pageIndex].message[this.messageIndex].text}catch{return"LAST"}}}},R=i(89);const q=(0,R.Z)(E,[["render",j],["__scopeId","data-v-4255780c"]]);var B=q}}]);
//# sourceMappingURL=740.60c825ac.js.map