"use strict";(self["webpackChunkgaku_navi2"]=self["webpackChunkgaku_navi2"]||[]).push([[178],{8784:function(e,s,i){i.r(s),i.d(s,{default:function(){return O}});var t=i(3396),a=i(9242),c=i(7139),n=i.p+"img/left.e0515ef0.svg",o=i.p+"img/menu.b72fea75.svg",r=i.p+"img/voice.ec48c6ab.svg",l=i.p+"img/repeat.0dbb7bf4.svg",g=i.p+"img/stop.2aef6006.svg",u=i.p+"img/play.3e8fed54.svg",h=i.p+"img/meter.eea07c43.svg";const m=e=>((0,t.dD)("data-v-0efa76ca"),e=e(),(0,t.Cn)(),e),d={class:"gridlayout"},p={class:"coursearea"},x=m((()=>(0,t._)("img",{src:n,alt:"戻る",class:"icon"},null,-1))),I=[x],_=m((()=>(0,t._)("img",{src:o,alt:"メニュー",class:"icon"},null,-1))),v=[_],w={class:"courseIndex"},k={class:"part"},y={class:"slide"},C=["src"],f={class:"progress"},b=["onClick"],S={class:"message flex"},V=["src"],T={class:"flex-col w100"},A={class:"flex nowrap"},P={class:"actorname"},D=m((()=>(0,t._)("img",{src:r,alt:"メーター",class:"icon"},null,-1))),z=[D],j=m((()=>(0,t._)("img",{src:l,alt:"メーター",class:"icon"},null,-1))),F=[j],L=m((()=>(0,t._)("img",{src:g,alt:"メーター",class:"icon"},null,-1))),J=[L],N=m((()=>(0,t._)("img",{src:u,alt:"メーター",class:"icon"},null,-1))),$=[N],H={class:"voiceSpeed"},Y=m((()=>(0,t._)("img",{src:h,alt:"メーター",class:"icon"},null,-1))),K={class:"pagearea"},M=m((()=>(0,t._)("img",{src:o,alt:"メニュー",class:"icon"},null,-1))),W=[M],Z={class:"pageIndex"},U=["onClick"];function E(e,s,i,n,o,r){const l=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("section",d,[(0,t._)("section",p,[(0,t.Wm)(l,{to:{name:"IndexList",params:{course:o.course}}},{default:(0,t.w5)((()=>[(0,t._)("button",{class:"btn",onClick:s[0]||(s[0]=(...e)=>r.reset&&r.reset(...e))},I)])),_:1},8,["to"]),(0,t.wy)((0,t._)("br",null,null,512),[[a.F8,!o.isCourseIndex]]),(0,t._)("button",{class:"btn",onClick:s[1]||(s[1]=e=>o.isCourseIndex=!o.isCourseIndex)},v),(0,t.wy)((0,t._)("div",w,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.courseIndex,(e=>((0,t.wg)(),(0,t.iD)(t.HY,{key:e},[(0,t._)("div",k,(0,c.zw)(e.part),1),(0,t._)("ul",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.chapter,(e=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("li",{key:e,class:(0,c.C_)([{istrue:e.href==o.id}])},[(0,t.Wm)(l,{to:{name:"lecture",params:{course:o.course,id:e.href}},class:(0,c.C_)([{istrue:e.href==o.id}]),onClick:s=>r.courseJump(e.href)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(e.title),1)])),_:2},1032,["to","class","onClick"])],2)),[[a.F8,"#"!=e.href]]))),128))])],64)))),128))],512),[[a.F8,o.isCourseIndex]])]),(0,t._)("section",y,[(0,t._)("img",{src:r.slideImage,alt:"slide"},null,8,C)]),(0,t._)("section",f,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(r.progress,((e,s)=>((0,t.wg)(),(0,t.iD)("button",{key:s,class:(0,c.C_)(["w100",{isfalse:s!=o.messageIndex}]),onClick:e=>r.messageJump(s)},(0,c.zw)(e),11,b)))),128))]),(0,t._)("section",S,[(0,t.wy)((0,t._)("img",{src:r.actorImage,alt:"アクター",class:"actorimg"},null,8,V),[[a.F8,o.isActor&&o.isText]]),(0,t._)("section",T,[(0,t._)("section",A,[(0,t._)("button",{class:(0,c.C_)(["btn","nowrap",o.isActor?"istrue":"isfalse"]),onClick:s[2]||(s[2]=e=>o.isActor=!o.isActor)}," ・ω・ ",2),(0,t._)("span",P,(0,c.zw)(r.actorName),1),(0,t._)("button",{class:(0,c.C_)(["btn","mlauto",o.isVoice?"istrue":"isfalse"]),onClick:s[3]||(s[3]=e=>{o.isVoice=!o.isVoice,r.voiceStop()})},z,2),(0,t._)("button",{class:(0,c.C_)(["btn",o.isSkip?"istrue":"isfalse"]),onClick:s[4]||(s[4]=e=>o.isSkip=!o.isSkip)},F,2),(0,t._)("button",{class:(0,c.C_)(["btn"]),onClick:s[5]||(s[5]=(...e)=>r.voiceStop&&r.voiceStop(...e))},J),(0,t._)("button",{class:(0,c.C_)(["btn"]),onClick:s[6]||(s[6]=(...e)=>r.voicePlay&&r.voicePlay(...e))},$),(0,t._)("div",H,[Y,(0,t.wy)((0,t._)("input",{type:"range",min:"0.6",max:"2",step:"0.2","onUpdate:modelValue":s[7]||(s[7]=e=>o.voiceSpeed=e)},null,512),[[a.nr,o.voiceSpeed]]),(0,t._)("div",null,(0,c.zw)(o.voiceSpeed),1)])]),(0,t.wy)((0,t._)("div",{class:"messageWindow",onClick:s[8]||(s[8]=(...e)=>r.next&&r.next(...e))},(0,c.zw)(r.messageText),513),[[a.F8,o.isText]])])]),(0,t._)("section",K,[(0,t._)("button",{class:"btn",onClick:s[9]||(s[9]=e=>o.isPageIndex=!o.isPageIndex)},W),(0,t.wy)((0,t._)("ul",Z,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.scenario,((e,s)=>((0,t.wg)(),(0,t.iD)("li",{key:s,class:(0,c.C_)({istrue:s==o.pageIndex}),onClick:e=>r.pageJump(s)},(0,c.zw)(("00"+(s+1)).slice(-2))+"："+(0,c.zw)(e.title),11,U)))),128))],512),[[a.F8,o.isPageIndex]])]),(0,t.wy)((0,t._)("div",{class:"yaji"},(0,c.zw)(r.yajiText),513),[[a.F8,r.yajiText]])])}var R=i(4161),q={name:"LectureView",data(){return{course:"01",id:"01",scenario:[],isCourseIndex:!1,isPageIndex:!0,isText:!0,isActor:!0,isVoice:!0,isSkip:!0,pageIndex:0,messageIndex:0,messageVoice:new Audio(""),voiceSpeed:1}},mounted(){this.course=this.$route.params.course,this.id=this.$route.params.id,this.getCourse(),this.getScenario()},methods:{getCourse(){const e="./"+this.course+"/index.json";R.Z.get(e).then((e=>this.courseIndex=e.data)).catch((e=>{console.log("course制作中です",e),this.courseIndex=[{part:"制作中"}]}))},getScenario(){const e="./"+this.course+"/"+this.id+"/scenario.json";R.Z.get(e).then((e=>this.scenario=e.data)).catch((e=>{console.log("scenario制作中です",e),this.scenario=[{part:"制作中"}]}))},reset(){this.messageVoice.pause(),this.pageIndex=0,this.messageIndex=0},switchActor(){this.isActor=!this.isActor},switchVoice(){this.isVoice=!this.isVoice,this.isVoice||(this.isSkip=!1)},switchSkip(){this.isSkip=!this.isSkip,this.isSkip&&(this.isVoice=!0)},switchMenu(){this.isMenu=!this.isMenu},messageJump(e){this.messageIndex=e,this.messageVoice.pause(),this.isVoice&&this.voicePlay()},pageJump(e){this.pageIndex=e,this.messageIndex=0,this.messageVoice.pause(),this.isVoice&&this.voicePlay()},courseJump(e){this.messageVoice.pause(),this.id=e,this.getScenario(),this.pageIndex=0,this.messageIndex=0},next(){if(this.messageIndex++,"LAST"==this.messageText){if(this.scenario.length==this.pageIndex+1)return void this.messageIndex--;this.pageIndex++,this.messageIndex=0}this.isVoice&&this.voicePlay()},voiceStop(){this.messageVoice.pause()},voicePlay(){this.messageVoice.pause();let e=this.scenario[this.pageIndex].message[this.messageIndex].voice;e?(this.messageVoice=new Audio("./"+this.course+"/"+this.id+"/voice/"+e),this.messageVoice.playbackRate=this.voiceSpeed,this.messageVoice.play(),this.messageVoice.addEventListener("ended",(()=>{this.isSkip&&this.next()}))):(this.messageIndex++,this.voicePlay())}},computed:{slideImage(){try{return this.scenario[this.pageIndex].message[this.messageIndex].slide?`./${this.course}/${this.id}/img/${this.scenario[this.pageIndex].message[this.messageIndex].slide}`:"./common/background/cloud2.png"}catch{return{mes:"制作中です"}}},actorName(){try{return this.scenario[this.pageIndex].message[this.messageIndex].actor?this.scenario[this.pageIndex].message[this.messageIndex].actor:"No Name"}catch{return"No Name"}},actorImage(){try{return this.scenario[this.pageIndex].message[this.messageIndex].actorImg?`./common/actor/${this.scenario[this.pageIndex].message[this.messageIndex].actorImg}`:"./common/actor/Tsumugi-01.png"}catch{return"./common/actor/Tsumugi-01.png"}},progress(){try{return this.scenario[this.pageIndex].message.length}catch{return"LAST"}},messageText(){try{return this.scenario[this.pageIndex].message[this.messageIndex].text}catch{return"LAST"}},yajiText(){try{return this.scenario[this.pageIndex].message[this.messageIndex].yaji}catch{return"LAST"}}}},B=i(89);const G=(0,B.Z)(q,[["render",E],["__scopeId","data-v-0efa76ca"]]);var O=G}}]);
//# sourceMappingURL=178.01d7e853.js.map